<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wrestling Sim: Control Your Book</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Impact&display=swap" rel="stylesheet">
</head>
<body>
    <div class="game-container">
        <header>
            <h1>Wrestling Sim: Control Your Book</h1>
            
           <audio id="music-player"></audio>
           <button id="play-pause-button">Play</button>
           <ul id="playlist">
           <li data-src="./music/groove.mp3">Song 1</li>
           <li data-src="./music/rvd.mp3">Song 3</li>
           <li data-src="./music/ki.mp3">Song 3</li>
           <li data-src="./music/suffice-instr.mp3">Song 2</li>
           <li data-src="./music/rock.mp3">Song 3</li>
           <li data-src="./music/summer.mp3">Song 3</li>
           <!-- Add more songs to the playlist -->
           </ul>
           <div class="game-stats">
                <span id="current-week">Week: 1</span> |
                <span id="current-ppv">Next PPV: Royal Rumble (Week 4)</span>
                <div class="game-management-buttons">
                    <!-- NEW: Save/Load Buttons -->
                    <!--<button id="save-game-btn" class="action-btn">Save Game</button>
                    <button id="load-game-btn" class="action-btn">Load Game</button>-->
                </div>
            </div>
        </header>

        <nav class="main-menu">
            <button id="exhibition-mode-btn" class="active">Exhibition</button>
            <button id="booker-career-btn">Booker Career</button>
            <button id="roster-btn">Roster</button>
            <button id="titles-btn">Titles</button>
            <button id="storylines-btn">Storylines</button>
            <button id="teams-factions-btn">Teams & Factions</button>
            <button id="news-btn">News</button>
           <a id="back" href="wrestlers.html"> Background</a>
        </nav>

        <main class="game-area">
            <section id="exhibition-mode" class="game-mode active">
                <h2>Exhibition Match</h2>
                <div class="match-setup-form">
                    <div class="form-group">
                        <label for="wrestler1-select">Wrestler 1:</label>
                        <select id="wrestler1-select"></select>
                    </div>
                    <div class="form-group">
                        <label for="wrestler2-select">Wrestler 2:</label>
                        <select id="wrestler2-select"></select>
                    </div>
                    <div class="form-group">
                        <label for="match-type-select">Match Type:</label>
                        <select id="match-type-select">
                            <option value="singles">Singles</option>
                            <option value="hardcore">Hardcore / No DQ</option>
                            <option value="submission">Submission</option>
                            <option value="ladder">Ladder</option>
                            <option value="lastManStanding">Last Man Standing</option>
                            <option value="cage">Cage Match</option>
                            <option value="hellInACell">Hell In A Cell</option>
                            <option value="tlc">TLC</option>
                            <option value="casket">Casket Match</option>
                            <option value="inferno">Inferno Match</option>
                            <option value="ironman">Ironman Match</option>
                        </select>
                    </div>
                    <div class="form-group checkbox-group">
                        <input type="checkbox" id="title-match-checkbox">
                        <label for="title-match-checkbox">Title Match</label>
                        <select id="title-select" style="display: none;"></select>
                    </div>
                    <button id="simulate-exhibition-btn" class="action-btn">Simulate Match</button>
                </div>
                <div id="exhibition-match-results" class="results-display">
                    </div>
            </section>

            <section id="booker-career-mode" class="game-mode">
                <h2>Booker Career Mode</h2>
                <div class="career-info">
                     <!-- NEW: Brand Selection Dropdown -->
                    <div class="booking-controls">
                        <label for="brand-select">Currently Booking:</label>
                        <select id="brand-select">
                           <option>PWM & WTM</option>
                        </select>
                      
                        <span id="current-show-name"></span>
                    </div>

                    <button id="simulate-show-btn" class="action-btn">Simulate Current Show</button>
                    <button id="advance-week-btn" class="action-btn">Advance Week</button>
                </div>

                <div class="booking-panel">
                    <h3>Book Next Match</h3>
                    <div class="form-group">
                        <label for="book-match-type-select">Match Type:</label>
                        <select id="book-match-type-select">
                            <option value="singles">Singles</option>
                            <option value="tagTeam">Tag Team</option>
                            <option value="tripleThreat">Triple Threat</option>
                            <option value="fatal4way">Fatal 4-Way</option>
                            <option value="hardcore">Hardcore / No DQ</option>
                            <option value="submission">Submission</option>
                            <option value="ladder">Ladder</option>
                            <option value="lastManStanding">Last Man Standing</option>
                            <option value="cage">Cage Match</option>
                            <option value="hellInACell">Hell In A Cell</option>
                            <option value="tlc">TLC</option>
                            <option value="casket">Casket Match</option>
                            <option value="inferno">Inferno Match</option>
                            <option value="ironman">Ironman Match</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="book-wrestler1-select">Wrestler 1:</label>
                        <select id="book-wrestler1-select" class="book-wrestler-select"></select>
                    </div>
                    <div class="form-group">
                        <label for="book-wrestler2-select">Wrestler 2:</label>
                        <select id="book-wrestler2-select" class="book-wrestler-select"></select>
                    </div>
                    <div id="wrestler3-container" class="form-group" style="display: none;">
                        <label for="book-wrestler3-select">Wrestler 3:</label>
                        <select id="book-wrestler3-select" class="book-wrestler-select"></select>
                    </div>
                    <div id="wrestler4-container" class="form-group" style="display: none;">
                        <label for="book-wrestler4-select">Wrestler 4:</label>
                        <select id="book-wrestler4-select" class="book-wrestler-select"></select>
                    </div>
                    <div class="form-group checkbox-group">
                        <input type="checkbox" id="book-title-match-checkbox">
                        <label for="book-title-match-checkbox">Title Match</label>
                        <select id="book-title-select" style="display: none;"></select>
                    </div>
                    <div class="form-group">
                        <label for="book-storyline-select">Storyline:</label>
                        <select id="book-storyline-select"></select>
                    </div>
                    <button id="add-match-to-card-btn" class="action-btn">Add Match to Card</button>
                </div>

                <div id="booked-matches" class="data-list show-card-display">
                    <h4>Current Card:</h4>
                    <p>No matches booked for this show yet.</p>
                </div>

                <!-- New: Segments for the current show will appear here -->
                <div id="show-segments" class="segments-display results-display">
                    <h3>Show Segments:</h3>
                    <p>No segments generated for this show yet.</p>
                </div>

                <div id="show-results" class="results-display">
                    </div>
            </section>

            <section id="roster-view" class="game-mode">
                <h2>Roster</h2>
                <!-- New divs for separate rosters -->
                <div id="roster-list">
                    <!-- Rosters will be rendered here dynamically -->
                </div>
            </section>

            <section id="titles-view" class="game-mode">
                <h2>Championships</h2>
                <div id="titles-list" class="data-list">
                    </div>
            </section>

            <section id="storylines-view" class="game-mode">
                <h2>Storylines</h2>
                <div class="booking-panel">
                    <h3>Create New Storyline</h3>
                    <div class="form-group">
                        <label for="storyline-type-select">Storyline Type:</label>
                        <select id="storyline-type-select">
                            <option value="">-- Select Type --</option>
                            <option value="Bitter rivals">Bitter Rivals</option>
                            <option value="Chase the title">Chase the Title</option>
                            <option value="Betrayal">Betrayal</option>
                            <option value="Protege vs Mentor">Protege vs Mentor</option>
                            <option value="Dirty Champion">Dirty Champion</option>
                            <option value="Disrespect">Disrespect</option>
                            <option value="Personal Vendetta">Personal Vendetta</option>
                            <option value="Technical vs Powerhouse/Brawler">Technical vs Powerhouse/Brawler</option>
                            <option value="Underdog rising">Underdog Rising</option>
                            <option value="Best car">Best Car</option>
                            <option value="Better partners">Better Partners</option>
                            <option value="Enemies by Association">Enemies by Association</option>
                            <option value="Who runs the house (rival Managers)">Who Runs the House (Rival Managers)</option>
                            <option value="Mine vs Yours (Promotion Wars)">Mine vs Yours (Promotion Wars)</option>
                            <option value="Control your destiny (A vs B controlling C and D)">Control Your Destiny (A vs B controlling C and D)</option>
                            <option value="Rule the Roster">Rule the Roster</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="storyline-desc-input">Description:</label>
                        <input type="text" id="storyline-desc-input" placeholder="e.g., John vs Mike escalating feud">
                    </div>
                    <div class="form-group">
                        <label>Participants:</label>
                        <select class="storyline-participant-select"></select>
                        <select class="storyline-participant-select"></select>
                        <select class="storyline-participant-select"></select>
                        <select class="storyline-participant-select"></select>
                        <select class="storyline-participant-select"></select>
                        <select class="storyline-participant-select"></select>
                    </div>
                    <button id="create-storyline-btn" class="action-btn">Create Storyline</button>
                </div>
                <div id="active-storylines-list" class="data-list">
                    <h4>Active Storylines:</h4>
                    <p>No active storylines currently.</p>
                </div>
            </section>

            <section id="teams-factions-view" class="game-mode">
                <h2>Teams & Factions</h2>
                <div id="teams-factions-list" class="data-list">
                    <h4>Current Teams & Factions:</h4>
                    <p>No teams formed yet.</p>
                </div>

                <div class="booking-panel">
                    <h3>Manage Stables/Factions</h3>
                    <div class="form-group">
                        <label for="new-stable-name">Stable Name:</label>
                        <input type="text" id="new-stable-name" placeholder="e.g., The Elite">
                    </div>
                    <div class="form-group">
                        <label for="new-stable-leader">Leader:</label>
                        <select id="new-stable-leader"></select>
                    </div>
                    <div class="form-group">
                        <label>Members (Min 2, Max 5):</label>
                        <select class="new-stable-member-select"></select>
                        <select class="new-stable-member-select"></select>
                        <select class="new-stable-member-select"></select>
                        <select class="new-stable-member-select"></select>
                        <select class="new-stable-member-select"></select>
                    </div>
                    <button id="create-stable-btn" class="action-btn">Create Stable</button>
                </div>

                <div id="stables-list" class="data-list">
                    <h4>Current Stables:</h4>
                    <p>No stables formed yet.</p>
                </div>

            </section>
            
            <section id="news-view" class="game-mode">
              <h2>Breaking News</h2>
              <div id="news-feed" class="data-list">
               <p>No news yet. Simulate a show or advance a week to see news!</p>
              </div>
           </section>
        </main>
    </div>

    <!-- NEW: Save/Load Modal -->
    <div id="save-load-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>Game Data</h2>
            <p id="modal-message"></p>
            <textarea id="game-data-textarea" rows="10" cols="50" readonly></textarea>
            <button id="copy-data-btn" class="action-btn">Copy Data</button>
            <button id="paste-data-btn" class="action-btn">Load Data</button>
        </div>
    </div>

<div class="loading-overlay" id="loading-overlay">
        <img src="tap.gif" alt="Loading..." id="loading-image">
        <div class="loading-text">Simulating Matches...</div>
    </div>

   <script src="match.js"></script>
    <script type="module" src="script.js"></script>
</body>
</html>
